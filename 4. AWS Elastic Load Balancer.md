# Jobs of Load balancer:
- Distribute traffic to the respective target servers.
- Be scalable(Its elastic and is not a single point of failure)
- Able to support distribution algorithms(when there multiple target servers, choose the appropriate one using algorithms)
- Support registration of target servers(check whether they are active or not)
- Can be internal or Internet facing applications
- Route requests to different versions of application(canary deployment)
- Support Identity provider integrations(eg sign in using google or facebook login)

# Types Of Load Balancers:
- Application Load Balancer -- Operates at level 7 Application, Can deal with HTTP or HTTPs traffic
- Network Load Balancer --- Operates at layer 4 Transport (TCP, UDP)
- Gateway Load Balancers -- Operates at layer 3 Network

# Application Load Balancer Properties
- ALB will have more than one nodes in different AZs to avoid one ponit of failure.
- Listeners matches some rules and directs the traffic to the appropriate target.
- Targets (Bunch of ec2 instances)
- Selection algorithm is used by the listener to choose the right target
- Health check configuration is required to be set in a Target group.The actual health service runs on the target ec2 instance.
- Back Pressure-- Ability to dynamically route the load to other ec2 instances, when the current ec2 istance is fully occupied with some back ground job. So the instance can send a health check saying not ok and then complete the job which they are currently working on. Once they are done with whatever job they are running, they can send a health check that they are ok and ready to take loads.
- Target groups should be set in atleast 2 different AZs for a ALB
- Crosszone Load Balancing--Each node can distribute the traffic within multiple availability zones, so that one zone is not overloaded.(This property is always enabled)
- Authentication of users-- Authentication can be done at the ALB, leaving the application to concentrate on bussiness requirements.

# Network Load Balancer
- Uses Flowhash to identify the ec2 instance to send the request
- Doest not have path based routing
- Does not have authentication flow
- Good for devices sending multiple chunks and assemble them in the same target ec2.

# Gateway Load Balancer
GLB receives the request and sends it to security appliances. When the security appliance sends a response saying that its safe, the GLB diverts the traffic to the appropriate node.

# Target Group Features
- Name
- Target Type
  - LB
  - IP (During Hybrid Deployment, the IP address in the on prem datacentres are used by the LB to route the traffic) 
  - Lambda
  - Instances
- protocol port
- Network VPC, a Load balancer can distrubute only within a VPC.
- Health Check
  - Protocol (HTTP/S)
  - Path(/health)
  - Threshold--- (Healthy, Unhealthy, Interval-no of times the LB should check for the health of ec2, timeout -- how long should it wait for getting a reply from ec2)
  - Success codes- return codes
  - Target registration -- Adding EC2 instances to the target group 
  - tags
  - Attributes 
   - Deregistration Delay -- Time to wait till the existing requests need to be completed before the EC2 is terminated
   - Slow Start Duration -- The time to wait till the newly registered ec2 instance gets a fair share of requests. Only after which the requests will be routed to other instances.
   - Algorithms-- Round Robin and Least outstanding
   - Stickiness  Sending the all the requests from a user to a single instance, as the authentication of the user is in the same instance. This is achieved using cookies, which binds the client with a server session.
 
 # Load Balancer Properties
 
  


